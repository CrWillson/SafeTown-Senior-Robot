<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SafeTown Senior Robot: xTaskCreateRestrictedStatic</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SafeTown Senior Robot
   </div>
   <div id="projectbrief">Arduino workspace for SafeTown Senior Robot development.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dd/d8a/group__x_task_create_restricted_static.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">xTaskCreateRestrictedStatic</div></div>
</div><!--header-->
<div class="contents">
<p>task. h </p><div class="fragment"><div class="line">BaseType_t xTaskCreateRestrictedStatic( TaskParameters_t *pxTaskDefinition, TaskHandle_t *pxCreatedTask );</div>
</div><!-- fragment --><p>Only available when configSUPPORT_STATIC_ALLOCATION is set to 1.</p>
<p>xTaskCreateRestrictedStatic() should only be used in systems that include an MPU implementation.</p>
<p>Internally, within the FreeRTOS implementation, tasks use two blocks of memory. The first block is used to hold the task's data structures. The second block is used by the task as its stack. If a task is created using xTaskCreateRestricted() then the stack is provided by the application writer, and the memory used to hold the task's data structure is automatically dynamically allocated inside the xTaskCreateRestricted() function. If a task is created using xTaskCreateRestrictedStatic() then the application writer must provide the memory used to hold the task's data structures too. xTaskCreateRestrictedStatic() therefore allows a memory protected task to be created without using any dynamic memory allocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pxTaskDefinition</td><td>Pointer to a structure that contains a member for each of the normal xTaskCreate() parameters (see the xTaskCreate() API documentation) plus an optional stack buffer and the memory region definitions. If configSUPPORT_STATIC_ALLOCATION is set to 1 the structure contains an additional member, which is used to point to a variable of type StaticTask_t - which is then used to hold the task's data structure.</td></tr>
    <tr><td class="paramname">pxCreatedTask</td><td>Used to pass back a handle by which the created task can be referenced.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pdPASS if the task was successfully created and added to a ready list, otherwise an error code defined in the file <a class="el" href="../../db/d67/projdefs_8h_source.html">projdefs.h</a></dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// Create an TaskParameters_t structure that defines the task to be created.</span></div>
<div class="line"><span class="comment">// The StaticTask_t variable is only included in the structure when</span></div>
<div class="line"><span class="comment">// configSUPPORT_STATIC_ALLOCATION is set to 1.  The PRIVILEGED_DATA macro can</span></div>
<div class="line"><span class="comment">// be used to force the variable into the RTOS kernel&#39;s privileged data area.</span></div>
<div class="line"><span class="keyword">static</span> PRIVILEGED_DATA StaticTask_t xTaskBuffer;</div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> TaskParameters_t xCheckTaskParameters =</div>
<div class="line">{</div>
<div class="line"> vATask,     <span class="comment">// pvTaskCode - the function that implements the task.</span></div>
<div class="line"> <span class="stringliteral">&quot;ATask&quot;</span>,    <span class="comment">// pcName - just a text name for the task to assist debugging.</span></div>
<div class="line"> 100,        <span class="comment">// uxStackDepth - the stack size DEFINED IN WORDS.</span></div>
<div class="line"> NULL,       <span class="comment">// pvParameters - passed into the task function as the function parameters.</span></div>
<div class="line"> ( 1U | portPRIVILEGE_BIT ),<span class="comment">// uxPriority - task priority, set the portPRIVILEGE_BIT if the task should run in a privileged state.</span></div>
<div class="line"> cStackBuffer,<span class="comment">// puxStackBuffer - the buffer to be used as the task stack.</span></div>
<div class="line"> </div>
<div class="line"> <span class="comment">// xRegions - Allocate up to three separate memory regions for access by</span></div>
<div class="line"> <span class="comment">// the task, with appropriate access permissions.  Different processors have</span></div>
<div class="line"> <span class="comment">// different memory alignment requirements - refer to the FreeRTOS documentation</span></div>
<div class="line"> <span class="comment">// for full information.</span></div>
<div class="line"> {</div>
<div class="line">     <span class="comment">// Base address                 Length  Parameters</span></div>
<div class="line">     { cReadWriteArray,              32,     portMPU_REGION_READ_WRITE },</div>
<div class="line">     { cReadOnlyArray,               32,     portMPU_REGION_READ_ONLY },</div>
<div class="line">     { cPrivilegedOnlyAccessArray,   128,    portMPU_REGION_PRIVILEGED_READ_WRITE }</div>
<div class="line"> }</div>
<div class="line"> </div>
<div class="line"> &amp;xTaskBuffer; <span class="comment">// Holds the task&#39;s data structure.</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main( <span class="keywordtype">void</span> )</div>
<div class="line">{</div>
<div class="line">TaskHandle_t xHandle;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Create a task from the const structure defined above.  The task handle</span></div>
<div class="line"> <span class="comment">// is requested (the second parameter is not NULL) but in this case just for</span></div>
<div class="line"> <span class="comment">// demonstration purposes as its not actually used.</span></div>
<div class="line"> xTaskCreateRestrictedStatic( &amp;xRegTest1Parameters, &amp;xHandle );</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Start the scheduler.</span></div>
<div class="line"> vTaskStartScheduler();</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Will only get here if there was insufficient memory to create the idle</span></div>
<div class="line"> <span class="comment">// and/or timer task.</span></div>
<div class="line"> <span class="keywordflow">for</span>( ;; );</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Apr 8 2025 17:22:09 for SafeTown Senior Robot by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
